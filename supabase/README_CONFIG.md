# Supabase設定ファイル管理

## 概要

このプロジェクトでは環境別設定により、開発・本番環境を適切に分離管理しています。

## 設定ファイル構成

### config.toml（ベース設定）
- 共通設定とデフォルト値
- 既存の設定を維持

### config.local.toml（開発環境）
- 開発専用設定
- 制限の緩和（レート制限、認証など）
- ホットリロード有効化
- デバッグ機能有効

### config.production.toml（本番環境）
- 本番専用設定
- セキュリティ強化
- パフォーマンス最適化
- 厳格な制限設定

## 使用方法

### 開発環境
```bash
# 開発環境で起動
supabase start --config config.local.toml
```

### 本番環境
```bash
# 本番環境で起動
supabase start --config config.production.toml
```

## 環境変数設定

### 必要な環境変数
`.env.example`をコピーして`.env`ファイルを作成し、適切な値を設定してください。

```bash
cp .env.example .env
# .envファイルを編集して実際の値を設定
```

### 重要な注意事項
- `.env`ファイルはGitignoreに追加済み
- 本番環境のシークレットは環境変数から読み込み
- 開発環境でも実際のAPIキーは環境変数使用推奨

## セキュリティ考慮事項

### 開発環境
- レート制限を緩和（開発効率向上）
- 認証確認を簡略化
- デバッグ機能有効

### 本番環境
- 厳格なレート制限
- MFA（多要素認証）有効化
- JWT有効期限短縮（30分）
- パスワード強度要件強化
- IP制限有効化

## 設定の拡張

新しい環境固有の設定が必要な場合：

1. 該当する設定ファイルに追加
2. 必要に応じて環境変数化
3. `.env.example`に新しい変数を追加
4. このREADMEを更新

## トラブルシューティング

### 設定ファイルが読み込まれない
- ファイルパスを確認
- TOML構文エラーをチェック
- 環境変数が設定されているか確認

### 環境変数が反映されない
- `.env`ファイルの場所を確認
- 変数名のスペルチェック
- Supabaseの再起動を試行